(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(69)},29:function(e,t,n){},30:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,n){},32:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),i=n.n(r),s=(n(29),n(23)),c=n(1),u=n(2),l=n(4),m=n(3),h=n(5),d=(n(30),n(31),n(32),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onUrlChange=function(e){a.setState({imageUrl:e.target.value})},a.onDetectSubmit=function(){new(n(33).App)({apiKey:"ab6c42866254412fbbec07825703e19e"}).models.predict("a403429f2ddf4b49b307e318f00e528b",a.state.imageUrl).then(function(e){a.calculateBoundingBoxPositions(e.outputs[0].data.regions[0].region_info.bounding_box),fetch("http://192.168.0.108:3001/detect/".concat(a.props.userId),{method:"put"}).then(function(e){return e.json()}).then(function(e){e.data?a.props.updateUser({detections:e.data}):alert(e.err)}).catch(function(e){return alert(e)})}).catch(function(e){return alert("Unable to get response from Clarifai. Error: ".concat(e))})},a.calculateBoundingBoxPositions=function(e){var t=document.getElementById("imgFace"),n=t.width,o=t.height,r=o*(1-e.bottom_row),i=n*e.left_col,s=o*e.top_row,c=n*(1-e.right_col);a.setState({boundingBox:{top:s,right:c,bottom:r,left:i}},function(){document.getElementsByClassName("boundingBox")[0].classList.add("active")})},a.state={imageUrl:"",boundingBox:{top:void 0,right:void 0,bottom:void 0,left:void 0}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.imageUrl;return o.a.createElement("div",null,o.a.createElement("input",{type:"text",onChange:this.onUrlChange}),o.a.createElement("input",{type:"button",value:"Detect",onClick:function(){return e.onDetectSubmit()}}),o.a.createElement("div",{className:"imgContainer"},o.a.createElement("img",{id:"imgFace",alt:"face",src:t}),o.a.createElement("div",{className:"boundingBox",style:this.state.boundingBox})))}}]),t}(a.Component)),p=function(e){return o.a.createElement("div",null,o.a.createElement("h1",null,"".concat(e.username,", you have made ").concat(e.detections," detections")))},g=function(e){return o.a.createElement("div",null,o.a.createElement("h1",{onClick:function(){return e.onRouteChange("signin")},style:{cursor:"pointer"}},"Sign Out"))},f=function(e){return o.a.createElement("img",{alt:"logo",src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"})},b=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"grid-container"},o.a.createElement("div",{className:"logo"},o.a.createElement(f,null)),o.a.createElement("div",{className:"rank"},o.a.createElement(p,{username:this.props.user.username,detections:this.props.user.detections})),o.a.createElement("div",{className:"signout"},o.a.createElement(g,{onRouteChange:this.props.onRouteChange})),o.a.createElement("div",{className:"faceDetect"},o.a.createElement(d,{updateUser:this.props.updateUser,detections:this.props.user.detections,userId:this.props.user.id})))}}]),t}(a.Component),E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).onEmailChange=function(e){n.setState({email:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onSignInSubmit=function(e){fetch("http://192.168.0.108:3001/signin",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n.state)}).then(function(e){return e.json()}).then(function(e){e.data?(n.props.updateUser(e.data),n.props.onRouteChange("home")):alert(e.err)}).catch(function(e){alert(e)})},n.state={email:"",password:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onRouteChange;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"email"},"Email:"),o.a.createElement("input",{id:"email",type:"text",onChange:this.onEmailChange})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{id:"password",type:"password",onChange:this.onPasswordChange})),o.a.createElement("div",null,o.a.createElement("input",{type:"button",value:"Signin",onClick:function(){return e.onSignInSubmit()}}),o.a.createElement("input",{type:"button",value:"Register",onClick:function(){return t("register")}})))}}]),t}(a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).onUserNameChange=function(e){n.setState({username:e.target.value})},n.onEmailChange=function(e){n.setState({email:e.target.value})},n.onPasswordChange=function(e){n.setState({password:e.target.value})},n.onRegisterSubmit=function(e){fetch("http://192.168.0.108:3001/register",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(n.state)}).then(function(e){return e.json()}).then(function(e){e.data?(alert(e.data),n.props.onRouteChange("home")):alert(e.err)}).catch(function(e){return alert(e)})},n.state={username:"",email:"",password:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;this.props.onRouteChange;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"username"},"Username:"),o.a.createElement("input",{id:"username",type:"text",onChange:this.onUserNameChange})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"email"},"Email:"),o.a.createElement("input",{id:"email",type:"text",onChange:this.onEmailChange})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{id:"password",type:"password",onChange:this.onPasswordChange})),o.a.createElement("div",null,o.a.createElement("input",{type:"button",value:"Register",onClick:function(){return e.onRegisterSubmit()}})))}}]),t}(a.Component),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).onRouteChange=function(t){e.setState({route:t})},e.updateUser=function(t){e.setState({user:Object(s.a)({},e.state.user,t)})},e.state={route:"signin",user:{username:"",email:"",detections:""}},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){switch(this.state.route){case"signin":return o.a.createElement(E,{onRouteChange:this.onRouteChange,updateUser:this.updateUser});case"home":return o.a.createElement(b,{onRouteChange:this.onRouteChange,user:this.state.user,updateUser:this.updateUser});case"register":return o.a.createElement(v,{onRouteChange:this.onRouteChange});default:return o.a.createElement(E,{onRouteChange:this.onRouteChange})}}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.859b775c.chunk.js.map